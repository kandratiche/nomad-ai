import { createClient } from "@supabase/supabase-js";
import dotenv from "dotenv";
dotenv.config({ path: "./api/.env" });

const supabase = createClient(
  process.env.EXPO_PUBLIC_SUPABASE_URL,
  process.env.SUPABASE_SERVICE_ROLE_KEY,
);

const PARTNER_TOURS = [
  {
    // Однодневный тур из Астаны — выезд 06:45
    id: "5985d3cf-6e5f-4191-be48-db2455d81089",
    partner_name: "Qazaq Touristik",
    partner_instagram: "https://instagram.com/qazaq_touristik",
    partner_whatsapp: "77784492930",
    pickup_location: "пр. Кабанбай батыра, 5Б, Coffee BOOM",
    pickup_time: "06:45",
    child_discount: 1000,
    available_dates: [
      "15 февраля", "21 февраля", "22 февраля", "28 февраля",
      "1 марта", "7 марта", "8 марта", "9 марта", "14 марта", "15 марта",
      "19 марта", "20 марта", "21 марта", "22 марта", "23 марта",
      "24 марта", "25 марта", "26 марта", "27 марта", "28 марта",
      "29 марта", "30 марта", "31 марта",
    ],
    included: [
      "Трансфер туда и обратно",
      "Экосборы нацпарка",
      "Фото/видео от гида",
      "Обед в кафе",
      "Экскурсия",
      "Услуги гида",
    ],
    itinerary: [
      { time: "06:45", title: "Сбор группы", desc: "пр. Кабанбай батыра, 5Б, Coffee BOOM" },
      { time: "07:00", title: "Выезд из Астаны" },
      { title: "Национальный парк «Бурабай»" },
      { title: "Мараловая ферма", desc: "Доп. оплата 2000 ₸" },
      { title: "Лапландия" },
      { title: "Гора «Болектау»", desc: "По новой тропинке" },
      { title: "Озеро «Боровое»" },
      { title: "Скала Жумбактас и Окжетпес" },
      { title: "Пещера любви" },
      { title: "Иман родник" },
      { title: "Поляна Абылай Хана" },
      { title: "Камень Желаний / Трон Абылай Хана" },
      { time: "19:30–20:00", title: "Возвращение в Астану" },
    ],
  },
  {
    // Однодневный тур из Караганды и Темиртау — выезд 05:00
    id: "261c1ddd-ce94-4c66-a219-846b1656804e",
    partner_name: "Qazaq Touristik",
    partner_instagram: "https://instagram.com/qazaq_touristik",
    partner_whatsapp: "77784492930",
    pickup_location: "Караганда: БЦ «Казахстан», пр. Бухар-Жырау, 49/6 | Темиртау: напротив мечети",
    pickup_time: "04:50 (Караганда) / 05:40 (Темиртау)",
    child_discount: 1000,
    available_dates: [
      "15 февраля", "21 февраля", "22 февраля", "28 февраля",
      "1 марта", "7 марта", "8 марта", "9 марта", "14 марта", "15 марта",
      "20 марта", "21 марта", "22 марта", "23 марта",
      "24 марта", "25 марта", "28 марта", "29 марта",
    ],
    included: [
      "Трансфер туда и обратно",
      "Экосборы нацпарка",
      "Фото/видео от гида",
      "Обед в кафе",
      "Экскурсия",
      "Услуги гида",
    ],
    itinerary: [
      { time: "04:50", title: "Сбор группы (Караганда)", desc: "БЦ «Казахстан», пр. Бухар-Жырау, 49/6" },
      { time: "05:00", title: "Выезд из Караганды" },
      { time: "05:40", title: "Посадка в Темиртау", desc: "Напротив мечети" },
      { title: "Национальный парк «Бурабай»" },
      { title: "Мараловая ферма", desc: "Доп. оплата 2000 ₸" },
      { title: "Восхождение на гору «Болектау»", desc: "По новой тропинке" },
      { title: "Озеро «Боровое»" },
      { title: "Скала Жумбактас и Окжетпес" },
      { title: "Пещера любви" },
      { title: "Лапландия" },
      { title: "Иман родник" },
      { title: "Поляна Абылай Хана" },
      { title: "Камень Желаний / Трон Абылай Хана" },
      { time: "~23:00", title: "Возвращение в Караганду" },
    ],
  },
  {
    // Двухдневный тур — мультигородской
    id: "d172d949-8680-41d9-bf10-61078030b474",
    partner_name: "Qazaq Touristik",
    partner_instagram: "https://instagram.com/qazaq_touristik",
    partner_whatsapp: "77784492930",
    pickup_location: "Астана: Кабанбай батыра, 5Б | Караганда: БЦ Казахстан | Темиртау: напротив церкви | Петропавловск: ТД АЖАР",
    pickup_time: "08:00 (Астана) / 05:00 (Караганда) / 05:40 (Темиртау) / 07:00 (Петропавловск)",
    child_discount: 2500,
    available_dates: [
      "7–8 марта", "8–9 марта", "21–22 марта",
      "22–23 марта", "23–24 марта", "24–25 марта",
    ],
    included: [
      "Трансфер туда и обратно",
      "Проживание с удобствами",
      "Мангальная зона, решётки для BBQ",
      "Питание (день 1: обед + ужин, день 2: завтрак + обед)",
      "Экосборы нацпарка",
      "Экскурсия",
      "Билет на мараловую ферму Aqmaral",
      "Дискотека",
      "Услуги гида",
      "Бассейн / сауна",
    ],
    itinerary: [
      { day: 1, time: "05:00–08:00", title: "Выезд из городов", desc: "Астана 08:00 · Караганда 05:00 · Темиртау 05:40 · Петропавловск 07:00" },
      { day: 1, title: "Приезд и размещение в гостевом доме" },
      { day: 1, title: "Обед" },
      { day: 1, title: "Экскурсия по Боровому" },
      { day: 1, title: "Ужин" },
      { day: 1, title: "Бассейн, сауна" },
      { day: 1, title: "Свободное время" },
      { day: 1, title: "Дискотека" },
      { day: 2, title: "Завтрак" },
      { day: 2, title: "Мараловая ферма Aqmaral" },
      { day: 2, title: "Обед в кафе" },
      { day: 2, title: "Продолжение экскурсии по Боровому" },
      { day: 2, title: "Выезд в город" },
      { title: "Национальный парк «Бурабай»" },
      { title: "Гора «Болектау» с обзорной экскурсией" },
      { title: "Новая смотровая площадка" },
      { title: "Ханский перевал" },
      { title: "Озеро «Боровое»" },
      { title: "Скала Жумбактас и Окжетпес" },
      { title: "Поляна Абылай Хана" },
      { title: "Камень Желаний / Трон Абылай Хана" },
      { title: "Сосновый бор" },
      { title: "Лапландия" },
      { title: "Ракушка" },
      { title: "Иман родник" },
      { title: "Пещера любви" },
      { title: "Мараловая ферма Aqmaral" },
    ],
  },
];

async function seed() {
  for (const tour of PARTNER_TOURS) {
    const { id, ...updateData } = tour;

    const { error } = await supabase
      .from("tours")
      .update(updateData)
      .eq("id", id);

    if (error) {
      console.error(`Failed to update tour ${id}:`, error.message);
    } else {
      console.log(`Updated tour: ${id}`);
    }
  }

  console.log("\nDone! Partner tour data seeded.");
}

seed().catch(console.error);
